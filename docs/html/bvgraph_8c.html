<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>libbvg: src/bvgraph.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libbvg
   &#160;<span id="projectnumber">2.0.10</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">bvgraph.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>implementation the routines in <a class="el" href="bvgraph_8h.html" title="This file is the main public header for LIBBVG. ">bvgraph.h</a>  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bvgraph__internal_8h_source.html">bvgraph_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="bvgraph__inline__io_8h_source.html">bvgraph_inline_io.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3d83d353195292c1ac1b5122f0f160d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbvgraph__tag.html">bvgraph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#a3d83d353195292c1ac1b5122f0f160d1">bvgraph_new</a> (void)</td></tr>
<tr class="separator:a3d83d353195292c1ac1b5122f0f160d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e646e59c5bf70818e7495b4e192f65e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#a2e646e59c5bf70818e7495b4e192f65e">bvgraph_free</a> (<a class="el" href="structbvgraph__tag.html">bvgraph</a> *g)</td></tr>
<tr class="separator:a2e646e59c5bf70818e7495b4e192f65e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1dfa094776c463224625630ca654b7c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#ae1dfa094776c463224625630ca654b7c">bvgraph_load</a> (<a class="el" href="structbvgraph__tag.html">bvgraph</a> *g, const char *filename, unsigned int filenamelen, int offset_step)</td></tr>
<tr class="separator:ae1dfa094776c463224625630ca654b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa815fcc22af8cd3e1e5fc2dfc2a19ac9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#aa815fcc22af8cd3e1e5fc2dfc2a19ac9">bvgraph_load_external</a> (<a class="el" href="structbvgraph__tag.html">bvgraph</a> *g, const char *filename, unsigned int filenamelen, int offset_step, unsigned char *gmemory, size_t gmemsize, unsigned long long *offsets, int offsetssize)</td></tr>
<tr class="separator:aa815fcc22af8cd3e1e5fc2dfc2a19ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31308c861752f08792a4482bca9cc9ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#a31308c861752f08792a4482bca9cc9ef">bvgraph_close</a> (<a class="el" href="structbvgraph__tag.html">bvgraph</a> *g)</td></tr>
<tr class="separator:a31308c861752f08792a4482bca9cc9ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07da12e465b2b8264ce43ac8ebaab11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#ae07da12e465b2b8264ce43ac8ebaab11">bvgraph_required_memory</a> (<a class="el" href="structbvgraph__tag.html">bvgraph</a> *g, int offset_step, size_t *gbuf, size_t *offsetbuf)</td></tr>
<tr class="separator:ae07da12e465b2b8264ce43ac8ebaab11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a264d0ff560674482dceede5f4d3ad44f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#a264d0ff560674482dceede5f4d3ad44f">bvgraph_outdegree</a> (<a class="el" href="structbvgraph__tag.html">bvgraph</a> *g, int64_t x, uint64_t *d)</td></tr>
<tr class="separator:a264d0ff560674482dceede5f4d3ad44f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6077e3021b42d4a488b2bda116df72a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#ae6077e3021b42d4a488b2bda116df72a">bvgraph_successors</a> (<a class="el" href="structbvgraph__tag.html">bvgraph</a> *g, int64_t x, int64_t **start, uint64_t *length)</td></tr>
<tr class="separator:ae6077e3021b42d4a488b2bda116df72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc071b45a48a56af159cb83228c25f17"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#acc071b45a48a56af159cb83228c25f17">bvgraph_error_string</a> (int code)</td></tr>
<tr class="separator:acc071b45a48a56af159cb83228c25f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acf8e5a019558a8623a2355214e99d34b"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#acf8e5a019558a8623a2355214e99d34b">bvgraph_call_out_of_memory</a> = -1</td></tr>
<tr class="memdesc:acf8e5a019558a8623a2355214e99d34b"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code for call out of memory  <a href="#acf8e5a019558a8623a2355214e99d34b">More...</a><br /></td></tr>
<tr class="separator:acf8e5a019558a8623a2355214e99d34b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92c51757cff8f0b08a8301ce70c4aad6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92c51757cff8f0b08a8301ce70c4aad6"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#a92c51757cff8f0b08a8301ce70c4aad6">bvgraph_call_io_error</a> = -2</td></tr>
<tr class="memdesc:a92c51757cff8f0b08a8301ce70c4aad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code for io error <br /></td></tr>
<tr class="separator:a92c51757cff8f0b08a8301ce70c4aad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dea3056474a6410da55fe53aadde9ad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2dea3056474a6410da55fe53aadde9ad"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#a2dea3056474a6410da55fe53aadde9ad">bvgraph_call_unsupported</a> = -3</td></tr>
<tr class="memdesc:a2dea3056474a6410da55fe53aadde9ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code for unsupported call <br /></td></tr>
<tr class="separator:a2dea3056474a6410da55fe53aadde9ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53cb7f7c14e9e210072161341e85b059"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53cb7f7c14e9e210072161341e85b059"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#a53cb7f7c14e9e210072161341e85b059">bvgraph_load_error_filename_too_long</a> = 11</td></tr>
<tr class="memdesc:a53cb7f7c14e9e210072161341e85b059"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code for file name too long <br /></td></tr>
<tr class="separator:a53cb7f7c14e9e210072161341e85b059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee13c4ca45e5bb4bd7241711b5dc907f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee13c4ca45e5bb4bd7241711b5dc907f"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#aee13c4ca45e5bb4bd7241711b5dc907f">bvgraph_load_error_buffer_too_small</a> = 12</td></tr>
<tr class="memdesc:aee13c4ca45e5bb4bd7241711b5dc907f"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code for buffer too small <br /></td></tr>
<tr class="separator:aee13c4ca45e5bb4bd7241711b5dc907f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5282955d219e20f9a45ed7e7e003601"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad5282955d219e20f9a45ed7e7e003601"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#ad5282955d219e20f9a45ed7e7e003601">bvgraph_property_file_error</a> = 21</td></tr>
<tr class="memdesc:ad5282955d219e20f9a45ed7e7e003601"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code for property file <br /></td></tr>
<tr class="separator:ad5282955d219e20f9a45ed7e7e003601"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a35d14f88de676205609855254ae65"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11a35d14f88de676205609855254ae65"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#a11a35d14f88de676205609855254ae65">bvgraph_unsupported_version</a> = 22</td></tr>
<tr class="memdesc:a11a35d14f88de676205609855254ae65"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code for unsupported version <br /></td></tr>
<tr class="separator:a11a35d14f88de676205609855254ae65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969ef9247587a940a26065a7f78c9560"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a969ef9247587a940a26065a7f78c9560"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#a969ef9247587a940a26065a7f78c9560">bvgraph_property_file_compression_flag_error</a> = 23</td></tr>
<tr class="memdesc:a969ef9247587a940a26065a7f78c9560"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code for property file compression flag <br /></td></tr>
<tr class="separator:a969ef9247587a940a26065a7f78c9560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb6b624c0dd9d9e3765dc73ea221084f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb6b624c0dd9d9e3765dc73ea221084f"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#abb6b624c0dd9d9e3765dc73ea221084f">bvgraph_vertex_out_of_range</a> = 31</td></tr>
<tr class="memdesc:abb6b624c0dd9d9e3765dc73ea221084f"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code for vertex out of range <br /></td></tr>
<tr class="separator:abb6b624c0dd9d9e3765dc73ea221084f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55859a22117460011e63f33682924d6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab55859a22117460011e63f33682924d6"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#ab55859a22117460011e63f33682924d6">bvgraph_requires_offsets</a> = 32</td></tr>
<tr class="memdesc:ab55859a22117460011e63f33682924d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code for missing offsets <br /></td></tr>
<tr class="separator:ab55859a22117460011e63f33682924d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cfb93041a4819f67ea60c54106838e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3cfb93041a4819f67ea60c54106838e9"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bvgraph_8c.html#a3cfb93041a4819f67ea60c54106838e9">bvgraph_unsupported_coding</a> = 33</td></tr>
<tr class="memdesc:a3cfb93041a4819f67ea60c54106838e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code for unsupported coding method <br /></td></tr>
<tr class="separator:a3cfb93041a4819f67ea60c54106838e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>implementation the routines in <a class="el" href="bvgraph_8h.html" title="This file is the main public header for LIBBVG. ">bvgraph.h</a> </p>
<p>Implement all the routines to work with bvgraph files in the bvg library. </p><dl class="section author"><dt>Author</dt><dd>David Gleich </dd></dl>
<dl class="section date"><dt>Date</dt><dd>17 May 2007 </dd></dl>
<dl class="section version"><dt>Version</dt><dd></dd></dl>
<p>01-24-2008: Added function to initialize structure memory to fix a segfault on the 32-bit version. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a31308c861752f08792a4482bca9cc9ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvgraph_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbvgraph__tag.html">bvgraph</a> *&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close a bvgraph object. This operation will free any associated memory. However, it will leave any existing iterators in an zombie state. These iterators should be closed before closing the graph, but this is only recommended to avoid bugs.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Implement a "valid" function that all the iterators would check?</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">g</td><td>the graph </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>

</div>
</div>
<a class="anchor" id="acc071b45a48a56af159cb83228c25f17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* bvgraph_error_string </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return an error string associated with an error code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>the error code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the pointer to a string associated with an error code. </dd></dl>

</div>
</div>
<a class="anchor" id="a2e646e59c5bf70818e7495b4e192f65e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bvgraph_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbvgraph__tag.html">bvgraph</a> *&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free a bvgraph in the memory. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">g</td><td>a pointer to the bvgraph in the memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae1dfa094776c463224625630ca654b7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvgraph_load </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbvgraph__tag.html">bvgraph</a> *&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>filenamelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset_step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load the metadata associated with a bvgraph. Largely, this involves just parsing the properties files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">g</td><td>a newly created bvgraph structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>the base filename for a set of bvgraph files, so filename.graph and filename.properties must exist. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset_step</td><td>controls how many offsets are loaded, if offset_step = -1, then the graph file isn't loaded into memory if offset_step = 0, then the graph file is loaded, but no offsets no other values are supported at the moment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful; bvgraph_load_error_filename_too_long - indicates the filename was too long</dd></dl>
<div class="fragment"><div class="line"><a class="code" href="structbvgraph__tag.html">bvgraph</a> g; <a class="code" href="bvgraph_8c.html#ae1dfa094776c463224625630ca654b7c">bvgraph_load</a>(&amp;b, <span class="stringliteral">&quot;cnr-2000&quot;</span>, 0);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="aa815fcc22af8cd3e1e5fc2dfc2a19ac9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvgraph_load_external </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbvgraph__tag.html">bvgraph</a> *&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>filenamelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>gmemory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>gmemsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offsetssize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load a graph file but using a set of externally provided buffers for the data. This might be useful in the case that you want to managed memory for the graph independently of this function.</p>
<p>To maintain the graph, only the bvgraph structure, and the two external ararys: gmemory and offsets are required. Consequently, a bvgraph structure can always be patched together out of these functions.</p>
<p>One common way of using this function would be to first load a graph on the disk (bvgraph_load(...,offset_step=-1)) and then call bvgraph_required_memory with an alternative offset step.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">g</td><td>a newly created bvgraph structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>the base filename for a set of bvgraph files, so filename.graph and filename.properties must exist. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset_step</td><td>controls how many offsets are loaded, if offset_step = -1, then the graph file isn't loaded into memory if offset_step = 0, then the graph file is loaded, but no offsets no other values are supported at the moment. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gmemory</td><td>an arry of size gmemsize for the graph (if NULL, then this parameter is treated as internal memory) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gmemsize</td><td>the size of the gmemory block </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsets</td><td>an array of offsets (if NULL, then this parameter is treated as internal memory) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsetssize</td><td>the number of offsets </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful; bvgraph_load_error_filename_too_long - indicates the filename was too long </dd></dl>

</div>
</div>
<a class="anchor" id="a3d83d353195292c1ac1b5122f0f160d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbvgraph__tag.html">bvgraph</a>* bvgraph_new </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new bvgraph in the memory. </p><dl class="section return"><dt>Returns</dt><dd>A pointer to the newly created bvgraph in the memory. </dd></dl>

</div>
</div>
<a class="anchor" id="a264d0ff560674482dceede5f4d3ad44f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvgraph_outdegree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbvgraph__tag.html">bvgraph</a> *&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Access the outdegree for a given node.</p>
<p>For a random access graph, this method provides a thread-safe means of getting the outdegree for a given node. If you are going to make many sequential outdegree calls from a single thread, the random_access_iterator structure is much more efficient.</p>
<p>To use this method, the graph must be loaded with offsets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">g</td><td>the bvgraph structure with offsets loaded </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>the node </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">d</td><td>the outdegree </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>

</div>
</div>
<a class="anchor" id="ae07da12e465b2b8264ce43ac8ebaab11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvgraph_required_memory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbvgraph__tag.html">bvgraph</a> *&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>gbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>offsetbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the memory required to load a bvgraph into memory with the desired offset_step.</p>
<p>The best way to use this function is to load the bvgraph with offset_step = -1, and then call this function to determine how much additional memory is required.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">g</td><td>the graph </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset_step</td><td>the new offset_step value </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gbuf</td><td>the size of the graph buffer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">offsetbuf</td><td>the size of the offset buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>

</div>
</div>
<a class="anchor" id="ae6077e3021b42d4a488b2bda116df72a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bvgraph_successors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbvgraph__tag.html">bvgraph</a> *&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t **&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Access the successors for a given node.</p>
<p>For a random access graph, this method provides a thread-safe means of getting the outdegree for a given node. If you are going to make many sequential outdegree calls from a single thread, the random_access_iterator structure is much more efficient.</p>
<p>To use this method, the graph must be loaded with offsets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">g</td><td>the bvgraph structure with offsets loaded </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>the node </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">start</td><td>the starting point of successor list </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">length</td><td>the length of successor list (degree) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="acf8e5a019558a8623a2355214e99d34b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int bvgraph_call_out_of_memory = -1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>error code for call out of memory </p>
<p>Define all the error codes </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 18 2014 15:27:29 for libbvg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
